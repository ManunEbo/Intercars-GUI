<Sale_with_Deposit_in_three_Screen>:
    Screen:
        BoxLayout:
            orientation: "vertical"
            size_hint: (0.7,0.8)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}            
            canvas.before:
                Color: 
                    rgba:(30/255, 31/255, 30/255,1)
                Rectangle:
                    size: self.size
                    pos: self.pos
            padding: 19
            spacing: 19
            

            MDLabel:
                id: SD3_Sale_in_three_options
                text: "Three payments Sale after Deposit"
                font_size: 40
                halign: 'center'
                size_hint_y: None
                height: self.texture_size[1]
            
            ScrollView:
                size_hint_y: 0.75
                do_scroll_x: False
                do_scroll_y: True
                pos_hint: {"center_x": 0.5, "center_y": 0.5} 
                GridLayout:
                    cols: 2
                    padding: 10
                    spacing: 10
                    size_hint_y: None
                    height: self.minimum_height
                    pos_hint: {"center_x": 0.6, "center_y": 0.7}
                    row_force_default: True
                    row_default_height: 40

                    MDLabel:
                        id: SD3_live_deposit_id
                        text: "Live Deposit"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200   

                    Spinner:
                        id: SD3_select_deposit
                        size_hint: None, None
                        size: (220,30)
                        text: "Select"
                        halign: 'center'
                        background_normal: ''
                        background_color: (0,0,0,0)
                        canvas.before:
                            Color: 
                                rgba:(125/255,185/255,219/255,1)
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [19]
                        values: root.SD3_Live_Deposit_list
                        on_text: root.SD3_selected_Live_Deposit(SD3_select_deposit.text)


                    # Adding two widgets to create a gap between Payment 1 and Payment 2
                    MDLabel:
                        id: SD3_First_payment_id
                        markup: True
                        text: "[color=#76FF03][b]First Payment[/b][/color]"
                        font_size: 14
                        halign: 'left'                        
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200   

                    Widget:

                    MDLabel:
                        id: SD3_Payment_method_1_id
                        text: "Payment method 1"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200                

                    Spinner:
                        id: SD3_payment_method_1_spin_id
                        pos: self.parent.pos
                        size_hint: None, None
                        size: (220,30)                        
                        text: "Select"
                        halign: 'center'
                        background_normal: ''
                        background_color: (0,0,0,0)
                        canvas.before:
                            Color: 
                                rgba:(125/255,185/255,219/255,1)
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [19]
                        values: ["Transfer","Card","Cash"]
                        on_text: root.SD3_dep_sal_option_choice1(SD3_payment_method_1_spin_id.text)
                    
                    MDLabel:
                        id: SD3_Transfer_ref_1_id
                        text: "Transfer reference 1"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_transfer_ref_1_textf
                        hint_text: "Transfer reference 1"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 18

                    MDLabel:
                        id: SD3_Card_numb_1_id
                        text: "Card number 1"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_card_nbr_1_textf
                        hint_text: "Card number 1"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 18
                    
                    MDLabel:
                        id: SD3_Debit_type_1_id
                        text: "Debit type 1"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    Spinner:
                        id: SD3_Debit_type_1_spin_id
                        size_hint: None, None
                        size: (220,30)
                        text: "Select"
                        halign: 'center'
                        background_normal: ''
                        background_color: (0,0,0,0)
                        canvas.before:
                            Color: 
                                rgba:(125/255,185/255,219/255,1)
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [19]
                        values: ["MasterCard","Maestro","Visa","Visa Electron","Visa Delta","Delta"]
                        on_text: root.SD3_Debit_type1(SD3_Debit_type_1_spin_id.text)

                    MDLabel:
                        id: SD3_Card_Expiry_1_id
                        text: "Card Expiry Date 1"
                        font_size: 14
                        halign: 'left'
                        markup: True
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    MDRoundFlatButton:                        
                        text: "Open Date Picker"
                        font_size: 12
                        on_release:
                            root.SD3_card_Exp_date_picker1()

                    MDLabel:
                        id: SD3_Card_Start_1_id
                        text: "Card start date 1"
                        font_size: 14
                        halign: 'left'
                        markup: True
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    MDRoundFlatButton:
                        text: "Open Date Picker"
                        font_size: 12
                        on_release:
                            root.SD3_card_start_date_1_picker()

                    MDLabel:
                        id: SD3_transaction_Date_1_id
                        text: "Transaction Date 1"
                        font_size: 14
                        halign: 'left'
                        markup: True
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    MDRoundFlatButton:
                        text: "Open Date Picker"
                        font_size: 12
                        on_release:
                            root.SD3_transaction_date_1_picker()

                    MDLabel:
                        id: SD3_transaction_time_1_id
                        text: "Transaction Time 1"
                        font_size: 14
                        halign: 'left'
                        markup: True
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    MDRoundFlatButton:
                        text: "Open Time Picker"
                        font_size: 12
                        on_release:
                            root.SD3_show_time_picker1()

                    MDLabel:
                        id: SD3_auth_1_id
                        text: "Authorization code 1"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_auth_1_textf
                        hint_text: "Authorization code 1"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 14

                    MDLabel:
                        id: SD3_Amount_1_id
                        text: "Sale Amount 1"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_Amount_1_textf
                        hint_text: "Sale amount 1"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 14

                    MDLabel:
                        id: SD3_Receipt_nbr_1_id
                        text: "Receipt number 1"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_Receipt_nbr_1_textf
                        hint_text: "Receipt number 1"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 14
                    
                    # Adding two widgets to create a gap between Payment 1 and Payment 2
                    MDLabel:
                        id: SD3_Second_payment_id
                        markup: True
                        text: "[color=#76FF03][b]Second Payment[/b][/color]"
                        font_size: 14
                        halign: 'left'                        
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200   

                    Widget:

                    MDLabel:
                        id: SD3_Payment_method_2_id
                        text: "Payment method 2"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200                

                    Spinner:
                        id: SD3_payment_method_2_spin_id
                        pos: self.parent.pos
                        size_hint: None, None
                        size: (220,30)                        
                        text: "Select"
                        halign: 'center'
                        background_normal: ''
                        background_color: (0,0,0,0)
                        canvas.before:
                            Color: 
                                rgba:(125/255,185/255,219/255,1)
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [19]
                        values: ["Transfer","Card","Cash"]
                        on_text: root.SD3_dep_sal_option_choice2(SD3_payment_method_2_spin_id.text)
                    
                    MDLabel:
                        id: SD3_Transfer_ref_2_id
                        text: "Transfer reference 2"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_transfer_ref_2_textf
                        hint_text: "Transfer reference 2"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 18

                    MDLabel:
                        id: SD3_Card_numb_2_id
                        text: "Card number 2"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_card_nbr_2_textf
                        hint_text: "Card number 2"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 18
                    
                    MDLabel:
                        id: SD3_Debit_type_2_id
                        text: "Debit type 2"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    Spinner:
                        id: SD3_Debit_type_2_spin_id
                        size_hint: None, None
                        size: (220,30)
                        text: "Select"
                        halign: 'center'
                        background_normal: ''
                        background_color: (0,0,0,0)
                        canvas.before:
                            Color: 
                                rgba:(125/255,185/255,219/255,1)
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [19]
                        values: ["MasterCard","Maestro","Visa","Visa Electron","Visa Delta","Delta"]
                        on_text: root.SD3_Debit_type2(SD3_Debit_type_2_spin_id.text)

                    MDLabel:
                        id: SD3_Card_Expiry_2_id
                        text: "Card Expiry Date 2"
                        font_size: 14
                        halign: 'left'
                        markup: True
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    MDRoundFlatButton:                        
                        text: "Open Date Picker"
                        font_size: 12
                        on_release:
                            root.SD3_card_Exp_date_picker2()

                    MDLabel:
                        id: SD3_Card_Start_2_id
                        text: "Card start date 2"
                        font_size: 14
                        halign: 'left'
                        markup: True
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    MDRoundFlatButton:
                        text: "Open Date Picker"
                        font_size: 12
                        on_release:
                            root.SD3_card_start_date_2_picker()

                    MDLabel:
                        id: SD3_transaction_Date_2_id
                        text: "Transaction Date 2"
                        font_size: 14
                        halign: 'left'
                        markup: True
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    MDRoundFlatButton:
                        text: "Open Date Picker"
                        font_size: 12
                        on_release:
                            root.SD3_transaction_date_2_picker()

                    MDLabel:
                        id: SD3_transaction_time_2_id
                        text: "Transaction Time 2"
                        font_size: 14
                        halign: 'left'
                        markup: True
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    MDRoundFlatButton:
                        text: "Open Time Picker"
                        font_size: 12
                        on_release:
                            root.SD3_show_time_picker2()

                    MDLabel:
                        id: SD3_auth_2_id
                        text: "Authorization code 2"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_auth_2_textf
                        hint_text: "Authorization code 2"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 14

                    MDLabel:
                        id: SD3_Amount_2_id
                        text: "Sale Amount 2"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_Amount_2_textf
                        hint_text: "Sale Amount 2"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 14

                    MDLabel:
                        id: SD3_Receipt_nbr_2_id
                        text: "Receipt number 2"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_Receipt_nbr_2_textf
                        hint_text: "Receipt number 2"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 14

                    # Adding two widgets to create a gap between Payment 2 and Payment 3
                    MDLabel:
                        id: SD3_Third_payment_id
                        markup: True
                        text: "[color=#76FF03][b]Third Payment[/b][/color]"
                        font_size: 14
                        halign: 'left'                        
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200   

                    Widget:

                    MDLabel:
                        id: SD3_Payment_method_3_id
                        text: "Payment method 3"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200                

                    Spinner:
                        id: SD3_payment_method_3_spin_id
                        pos: self.parent.pos
                        size_hint: None, None
                        size: (220,30)                        
                        text: "Select"
                        halign: 'center'
                        background_normal: ''
                        background_color: (0,0,0,0)
                        canvas.before:
                            Color: 
                                rgba:(125/255,185/255,219/255,1)
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [19]
                        values: ["Transfer","Card","Cash"]
                        on_text: root.SD3_dep_sal_option_choice3(SD3_payment_method_3_spin_id.text)
                    
                    MDLabel:
                        id: SD3_Transfer_ref_3_id
                        text: "Transfer reference 3"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_transfer_ref_3_textf
                        hint_text: "Transfer reference 3"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 18

                    MDLabel:
                        id: SD3_Card_numb_3_id
                        text: "Card number 3"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_card_nbr_3_textf
                        hint_text: "Card number 3"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 18
                    
                    MDLabel:
                        id: SD3_Debit_type_3_id
                        text: "Debit type 3"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    Spinner:
                        id: SD3_Debit_type_3_spin_id
                        size_hint: None, None
                        size: (220,30)
                        text: "Select"
                        halign: 'center'
                        background_normal: ''
                        background_color: (0,0,0,0)
                        canvas.before:
                            Color: 
                                rgba:(125/255,185/255,219/255,1)
                            RoundedRectangle:
                                size: self.size
                                pos: self.pos
                                radius: [19]
                        values: ["MasterCard","Maestro","Visa","Visa Electron","Visa Delta","Delta"]
                        on_text: root.SD3_Debit_type3(SD3_Debit_type_3_spin_id.text)

                    MDLabel:
                        id: SD3_Card_Expiry_3_id
                        text: "Card Expiry Date 3"
                        font_size: 14
                        halign: 'left'
                        markup: True
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    MDRoundFlatButton:                        
                        text: "Open Date Picker"
                        font_size: 12
                        on_release:
                            root.SD3_card_Exp_date_picker3()

                    MDLabel:
                        id: SD3_Card_Start_3_id
                        text: "Card start date 3"
                        font_size: 14
                        halign: 'left'
                        markup: True
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    MDRoundFlatButton:
                        text: "Open Date Picker"
                        font_size: 12
                        on_release:
                            root.SD3_card_start_date_3_picker()

                    MDLabel:
                        id: SD3_transaction_Date_3_id
                        text: "Transaction Date 3"
                        font_size: 14
                        halign: 'left'
                        markup: True
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    MDRoundFlatButton:
                        text: "Open Date Picker"
                        font_size: 12
                        on_release:
                            root.SD3_transaction_date_3_picker()

                    MDLabel:
                        id: SD3_transaction_time_3_id
                        text: "Transaction Time 3"
                        font_size: 14
                        halign: 'left'
                        markup: True
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200

                    MDRoundFlatButton:
                        text: "Open Time Picker"
                        font_size: 12
                        on_release:
                            root.SD3_show_time_picker3()

                    MDLabel:
                        id: SD3_auth_3_id
                        text: "Authorization code 3"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_auth_3_textf
                        hint_text: "Authorization code 3"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 14

                    MDLabel:
                        id: SD3_Amount_3_id
                        text: "Sale Amount 3"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_Amount_3_textf
                        hint_text: "Sale amount 3"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 14

                    MDLabel:
                        id: SD3_Receipt_nbr_3_id
                        text: "Receipt number 3"
                        font_size: 14
                        halign: 'left'
                        size_hint_y: None
                        height: self.texture_size[1]
                        size_hint_x: None
                        width: 200
                    
                    MDTextFieldRound:
                        id: SD3_Receipt_nbr_3_textf
                        hint_text: "Receipt number 3"
                        icon_right: "account"
                        size_hint_x: None
                        width: 200
                        font_size: 14

        MDRoundFlatButton:
            text: "Back"
            font_size: 12
            pos_hint: {"x": 0.4, "y": 0.02}
            padding: 15
            elevation: 10
            on_release:
                app.change_screen("deposit_or_sale")
        
        MDRoundFlatButton:
            text: "Submit"
            font_size: 12
            pos_hint: {"x": 0.55,"y": 0.02}
            padding: 15
            elevation: 10
            on_release:
                root.SD3_submit()

        MDNavigationLayout:
            ScreenManager:
                id: menu_mnger
                Screen:
                    BoxLayout:
                        orientation: 'vertical'
                        MDToolbar:
                            title: 'Customer'
                            anchor_title: "center"
                            left_action_items: [["menu", lambda x: nav_drawer.set_state("open")]]
                            elevation: 10

                        Widget:                    
                        
            MDNavigationDrawer:
                id: nav_drawer
                elevation: 10
                BoxLayout:
                    orientation: 'vertical'
                    MDLabel:
                        text: 'Uploads'
                        font_style: 'Caption'
                        size_hint_y: None
                        height: self.texture_size[1]
                    
                    ScrollView:
                        MDList:
                            OneLineIconListItem:
                                text: 'Vehicle'
                                IconLeftWidget:
                                    icon: 'car'

                            OneLineIconListItem:
                                text: 'Customer'
                                IconLeftWidget:
                                    icon: 'human-queue'
                            
                            OneLineIconListItem:
                                text: 'Staff'
                                IconLeftWidget:
                                    icon: 'human-capacity-increase'

                            OneLineIconListItem:
                                text: 'Auction'
                                IconLeftWidget:
                                    icon: 'human-greeting'

                            OneLineIconListItem:
                                text: 'Garage'
                                IconLeftWidget:
                                    icon: 'engine'
                            
                            OneLineIconListItem:
                                text: 'Deposit & Sale'
                                IconLeftWidget:
                                    icon: 'cash-multiple'
                            
                            OneLineIconListItem:
                                text: 'Operation'
                                IconLeftWidget:
                                    icon: 'lighthouse-on'

                            MDLabel:
                                text: 'Analytics'
                                font_style: 'Caption'
                                size_hint_y: None
                                height: self.texture_size[1]
                    

                            OneLineIconListItem:
                                text: 'Data'
                                IconLeftWidget:
                                    icon: 'facebook'

                            OneLineIconListItem:
                                text: 'Graph'
                                IconLeftWidget:
                                    icon: 'auto-upload'
                            
                            OneLineIconListItem:
                                text: 'Summary'
                                IconLeftWidget:
                                    icon: 'logout'    